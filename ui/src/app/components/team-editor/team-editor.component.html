<div class="team-editor">
  <div class="col">
    <div class="row">
      <div class="editor-input">
        <ng-container *ngIf="logged; else notLogged">
          <app-smart-input
          #userInput
          [label]="'Player'"
          [logged$]="loggedUser$"
          [updateOnChange]="true"
          (updateEvent)="playerUpdateEvent($event)"
          class="item smart-input-wrapper"
          ></app-smart-input>
        </ng-container>
        <ng-template #notLogged>
          <app-smart-input
          #userInput
          [label]="'Player'"
          [updateOnChange]="true"
          (updateEvent)="playerUpdateEvent($event)"
          class="item smart-input-wrapper"
          ></app-smart-input>
        </ng-template>
      </div>
      <div class="editor-input">
        <app-smart-input
        #tournamentInput
        [label]="'Tournament'"
        [keepSelected]="true"
        [allowNew]="true"
        [getter]="queryService.queryTournamentCallback"
        (selectEvent)="tournamentSelectEvent($event)"
        class="item smart-input-wrapper"
        ></app-smart-input>
      </div>
      <div class="editor-input">
        <app-smart-input
        #regulationInput
        [label]="'Regulation'"
        [keepSelected]="true"
        [getter]="queryService.queryRegulationCallback"
        [allGetter]="queryService.regulationAllCallback"
        (selectEvent)="regulationSelectEvent($event)"
        class="item smart-input-wrapper"
        ></app-smart-input>
      </div>
      <div class="editor-input">
        <app-smart-input
        #regulationInput
        [label]="'Tag'"
        [keepSelected]="false"
        [allowNew]="true"
        [getter]="queryService.queryTagCallback"
        [allGetter]="queryService.tagAllCallback"
        (selectEvent)="tagSelectEvent($event)"
        (newEvent)="toggleTagEditor()"
        class="item smart-input-wrapper"
        ></app-smart-input>
        <div class="tag-editor-wrapper" [ngClass]="{tagEditorShow: showTagEditor}">
          <app-tag-editor 
          (addEvent)="tagAddEvent($event)"
          (closeEvent)="tagEditorCloseEvent()"
          ></app-tag-editor>
        </div>
      </div>
    </div>
    <div class="row-center s-gap">
      <app-checkbox
      [obj]="teamOptions"
      [objSelector]="'showEVs'"
      [label]="'EVs'"
      [hoverText]="'Show EVs'"
      ></app-checkbox>
      <app-checkbox
      [obj]="teamOptions"
      [objSelector]="'showIVs'"
      [label]="'IVs'"
      [hoverText]="'Show IVs'"
      ></app-checkbox>
      <app-checkbox
      [obj]="teamOptions"
      [objSelector]="'showNature'"
      [label]="'Nature'"
      [hoverText]="'Show nature'"
      ></app-checkbox>
      <app-checkbox
      [obj]="teamOptions"
      [objSelector]="'showDexNumber'"
      [label]="'Dex number'"
      [hoverText]="'Show showDexNumber'"
      ></app-checkbox>
      <app-checkbox
      [obj]="teamOptions"
      [objSelector]="'showNickname'"
      [label]="'Nickname'"
      [hoverText]="'Show nickname'"
      ></app-checkbox>
    </div>
  </div>
  <div class="team-holder">
    <app-team [team]="team" [removableTags]="true"></app-team>
  </div>
  <div class="output">
    <button
    (click)="generateTeam()"
    class="generate button-primary-clear"
    >Generate Team</button>
  </div>
</div> 