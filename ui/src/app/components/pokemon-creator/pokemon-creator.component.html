
<div class="creator">
  <form class="form" [formGroup]="pokemonForm" >
    <div class="col">
      <div class="form-item">
        <app-smart-input
        #pokemonInput
        [label]="'Pokemon: '"
        [keepSelected]="true"
        [getter]="queryService.queryPokemonCallback"
        (selectEvent)="pokemonSelectEvent($event)"
        class="smart-input-wrapper"
        ></app-smart-input>
      </div>
      <div class="form-item">
        <app-smart-input
        #userInput
        [label]="'Move 1: '"
        [keepSelected]="true"
        [getter]="queryService.queryMoveCallback"
        (selectEvent)="move1SelectEvent($event)"
        class="smart-input-wrapper"
        ></app-smart-input>
      </div>
      <div class="form-item">
        <app-smart-input
        #userInput
        [label]="'Move 3: '"
        [keepSelected]="true"
        [getter]="queryService.queryMoveCallback"
        (selectEvent)="move3SelectEvent($event)"
        class="smart-input-wrapper"
        ></app-smart-input>
      </div>
      <div class="col form-item">
        <div class="row-center">
          <div class="row">
            <label for="">Shiny?</label>
            <input type="checkbox" name="" id="" formControlName="shiny">
          </div>
          <div class="row">
            <label for="">Level:</label>
            <input type="number" min="1" max="100" formControlName="level">
          </div>
        </div>
        <div class="row">
          <label for="">Gender:</label>
          <fieldset id="group1" class="row check-group">
            <div class="row check-box">
              <label>Male</label>
              <input type="radio" [value]="" formControlName="gender">
            </div>
            <div class="row check-box">
              <label>Female</label>
              <input type="radio" [value]="'F'" formControlName="gender" class="check-box">
            </div>
          </fieldset>
        </div>
        <div class="row">
          <label for="">Nickname:</label>
          <input type="text" class="input">
        </div>
      </div>
    </div>
    <div class="col">
      <div class="form-item">
        <app-smart-input
        #userInput
        [label]="'Item: '"
        [keepSelected]="true"
        [getter]="queryService.queryItemCallback"
        (selectEvent)="itemSelectEvent($event)"
        class="smart-input-wrapper"
        ></app-smart-input>
      </div>
      <div class="form-item">
        <app-smart-input
        #userInput
        [label]="'Move 2: '"
        [keepSelected]="true"
        [getter]="queryService.queryMoveCallback"
        (selectEvent)="move2SelectEvent($event)"
        class="smart-input-wrapper"
        ></app-smart-input>
      </div>
      <div class="form-item">
        <app-smart-input
        #userInput
        [label]="'Move 4: '"
        [keepSelected]="true"
        [getter]="queryService.queryMoveCallback"
        (selectEvent)="move4SelectEvent($event)"
        class="smart-input-wrapper"
        ></app-smart-input>
      </div>
      <div class="form-item">
        <div class="stat-selector"  [ngClass]="{disabled: !pokemon.name}">
          <ng-container *ngFor="let stat of pokemon.ivs; index as i">
            <div class="stat-box" (click)="selectStat(i)"
            [ngClass]="{selectedStat: selectedStat === i}"
            >
              {{stat.name}}
            </div>
          </ng-container>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="form-item">
        <div class="smart-input-wrapper">
          <div class="smart-input-top">
            <div class="smart-input-label">
              Ability: 
            </div>
            <div class="row check-box">
              <input type="checkbox" (click)="allAbilitiesSwitch()">
              <label>All</label>
            </div>
          </div>
          <ng-container *ngIf="allAbilities; else notAllAbilities">
            <app-smart-input
            #userInput
            [keepSelected]="true"
            [getter]="queryService.queryAbilityCallback"
            (selectEvent)="abilitySelectEvent($event)"
            class="smart-input-wrapper"
            ></app-smart-input>
          </ng-container>
          <ng-template #notAllAbilities>
            <app-smart-input
            #userInput
            [keepSelected]="true"
            [allGetter]="queryService.pokemonAbilitiesCallback"
            [allGetterIndex]="pokemon?.dexNumber"
            (selectEvent)="abilitySelectEvent($event)"
            class="smart-input-wrapper"
            ></app-smart-input>
          </ng-template>
        </div>
      </div>
      <div class="form-item">
        <app-smart-input
        #userInput
        [label]="'Nature: '"
        [keepSelected]="true"
        [getter]="queryService.queryNatureCallback"
        [allGetter]="queryService.naturesAllCallback"
        (selectEvent)="natureSelectEvent($event)"
        class="smart-input-wrapper"
        ></app-smart-input>
      </div>
      <div class="form-item">
        <app-smart-input
        #userInput
        [label]="'Teratype: '"
        [keepSelected]="true"
        [getter]="queryService.queryTeratypeCallback"
        [allGetter]="queryService.teraTypesAllCallback"
        (selectEvent)="teraTypeSelectEvent($event)"
        class="smart-input-wrapper"
        ></app-smart-input>
      </div>
      <div class="form-item  col">
        <div>
          <label for="">IVs </label>
          <input type="range" min="0" max="31" value="{{pokemon.ivs![selectedStat].value}}" 
          class="slider" id="myRange"
          formControlName="ivs">
          <label for="">{{pokemon.ivs![selectedStat].value}}</label>
        </div>
        <div>
          <label for="">EVs {{remainingEVs}}</label>
          <input type="range" min="0" max="{{currentMaxEVs}}" value="{{pokemon.evs![selectedStat].value}}" 
          class="slider" id="myRange"
          formControlName="evs">
          <label for="">{{pokemon.evs![selectedStat].value}}</label>
        </div>
      </div>
    </div>
  </form>
  <div class="preview">
    <app-pokemon [pokemon]="pokemon" [teamOptions]="teamOptions" ></app-pokemon>
    <button (click)="addPokemon()" class="add button-primary">Add Pokemon</button>
  </div>
</div>
