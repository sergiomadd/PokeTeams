<div class="smart-input">
  <form [formGroup]="searchForm" class="search">
    <div class="item">
      <ng-container *ngIf="label">
        <label for="">{{label}}</label>
      </ng-container>
      <ng-container *ngIf="!selected; else keep">
        <input 
        #input
        type="text" 
        placeholder="Search..." 
        formControlName="key"
        class="i nput section"
        value="result"
        (focus)="onFocus()"
        (blur)="onBlur()"
        >
      </ng-container>
      <ng-template #keep>
        <div class="result selected pad-s">
          <ng-container *ngIf="selected?.icon">
            <img [attr.src]="selected?.icon" alt="" class="icon" fill>
          </ng-container>
          {{selected?.name}}
          <div class="remove" (click)="removeSelected()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/></svg>
          </div>
        </div>
      </ng-template>
    </div>
  </form>
  <div 
  class="results section pad-s custom-scrollbar"
  [ngClass]="{'results-visible': showOptions && (results && results.length > 0)}"
  >
  Results: {{results?.length}}
    <ng-container *ngFor="let result of results">
      <div 
      class="result pad-s"
      (click)="selectResult(result)"
      >
        <ng-container *ngIf="result.icon">
          <img [attr.src]="result.icon" alt="" class="icon" fill>
        </ng-container>
        {{result.name}}
      </div>
    </ng-container>
  </div>
</div>