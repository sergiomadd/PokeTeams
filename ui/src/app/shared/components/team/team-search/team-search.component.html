<div class="col h-fit">
  <div class="top-background">
    <div class="top flex-col justify-c-c align-i-c gap-s bor-rad-5" 
      [ngClass]="{'pad-0': window.isMobile(), 'pad-l': !window.isMobile()}">
      <div class="flex gap-m">
        <div class="m-auto w-fit">
          <div class="flex gap-m justify-c-c" 
            [ngClass]="{'grid col-2 col-gap-m': window.isMobile()}">
            <ng-container *ngIf="!userSearch">
              <app-smart-input
              #userInput
              [label]="'search.team_search.player' | translate"
              [keepSelected]="false"
              [allowCustom]="true"
              [customType]="'user'"
              [getter]="queryService.queryUserCallback"
              (selectEvent)="queryResultSelectEvent($event)"
              class="item smart-input-wrapper"
              ></app-smart-input>
            </ng-container>
            <app-smart-input
            #tournamentInput
            [label]="'search.team_search.tournament' | translate"
            [keepSelected]="false"
            [allowCustom]="true"
            [customType]="'tournament'"
            [getter]="queryService.queryTournamentCallback"
            [allGetter]="queryService.tournamentAllCallback"
            (selectEvent)="queryResultSelectEvent($event)"
            class="item smart-input-wrapper"
            ></app-smart-input>
            <app-smart-input
            #regulationInput
            [label]="'search.team_search.regulation' | translate"
            [keepSelected]="false"
            [getter]="queryService.queryRegulationCallback"
            [allGetter]="queryService.regulationAllCallback"
            (selectEvent)="queryResultSelectEvent($event)"
            class="item smart-input-wrapper"
            ></app-smart-input>
            <app-smart-input
            #tagInput
            [label]="'search.team_search.tag' | translate"
            [keepSelected]="false"
            [getter]="queryService.queryTagCallback"
            [allGetter]="queryService.tagAllCallback"
            (selectEvent)="queryResultSelectEvent($event)"
            class="item smart-input-wrapper"
            ></app-smart-input>
          </div>
          <div class="flex gap-m justify-c-c" 
            [ngClass]="{'grid col-2 col-gap-m': window.isMobile()}">
            <app-smart-input
            #pokemonInput
            [label]="'search.team_search.pokemon' | translate"
            [keepSelected]="false"
            [getter]="queryService.queryPokemonCallback"
            (selectEvent)="queryResultSelectEvent($event)"
            class="item smart-input-wrapper"
            ></app-smart-input>
            <app-smart-input
            #moveInput
            [label]="'search.team_search.move' | translate"
            [keepSelected]="false"
            [getter]="queryService.queryMoveCallback"
            (selectEvent)="queryResultSelectEvent($event)"
            class="item smart-input-wrapper"
            ></app-smart-input>
            <app-smart-input
            #itemInput
            [label]="'search.team_search.item' | translate"
            [keepSelected]="false"
            [getter]="queryService.queryItemCallback"
            (selectEvent)="queryResultSelectEvent($event)"
            class="item smart-input-wrapper"
            ></app-smart-input>
          </div>
        </div>
      </div>
      <div class="storages m-auto bor-rad-5 bor-1-3" [ngStyle]="{'margin-top': window.isMobile() ? '3em' : 'auto'}">
        <div class="storage-settings flex justify-c-c">
          <app-radio
          [options]="unionTypeSettings"
          [optionSVGs]="[intersectionSVG, unionSVG]"
          [optionNames]="['intersection', 'union']"
          [tooltipTexts]="['search.team_search.intersection' | translate, 'search.team_search.union' | translate]"
          [selectedIndex]="0"
          (selectEvent)="querySettingsSelectEvent($event)"
          ></app-radio>
        </div>
        <div class="storage-buttons flex justify-c-c gap-m">
          <button class="button-primary" (click)="search()">
            <svg class="icon-m" version="1.0" xmlns="http://www.w3.org/2000/svg" width="512.000000pt" height="512.000000pt" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="#e1e1e1" stroke="none"> <path d="M1910 4356 c-577 -103 -1013 -524 -1137 -1099 -25 -116 -25 -428 0 -545 40 -179 104 -334 200 -480 208 -316 509 -521 885 -604 145 -32 407 -32 551 0 226 51 409 135 570 262 l53 42 582 -580 c319 -319 591 -585 603 -591 93 -47 189 49 142 142 -6 12 -272 284 -591 603 l-580 581 50 64 c189 243 294 577 279 894 -10 210 -54 381 -145 561 -190 378 -535 644 -957 739 -97 22 -405 29 -505 11z m480 -225 c236 -54 426 -164 597 -346 183 -194 284 -416 313 -689 37 -344 -105 -721 -363 -963 -245 -228 -589 -347 -906 -314 -277 30 -499 129 -694 311 -236 221 -359 488 -374 810 -27 587 400 1109 985 1205 115 19 328 12 442 -14z"/> </g> </svg>
          </button>
          <button class="button" (click)="reset()">
            <svg class="icon-m" version="1.0" xmlns="http://www.w3.org/2000/svg" width="512.000000pt" height="512.000000pt" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="var(--text-color)" stroke="none"> <path d="M3795 4479 c-128 -30 -196 -167 -150 -299 8 -23 15 -44 15 -47 0 -2 -26 14 -57 35 -207 139 -488 245 -763 288 -139 22 -419 22 -557 1 -419 -66 -777 -245 -1072 -537 -560 -553 -725 -1392 -415 -2117 266 -622 841 -1059 1513 -1148 126 -17 353 -19 471 -5 771 96 1400 625 1621 1363 60 203 97 527 69 611 -16 48 -63 102 -111 127 -70 35 -180 20 -237 -34 -50 -46 -65 -94 -73 -233 -14 -222 -59 -396 -155 -589 -205 -413 -580 -699 -1054 -801 -121 -27 -439 -27 -560 0 -474 102 -849 387 -1054 801 -108 218 -156 422 -156 665 0 709 476 1299 1179 1461 129 30 405 37 542 14 183 -30 344 -86 496 -171 l66 -37 -29 -12 c-75 -31 -131 -128 -122 -209 8 -65 50 -130 106 -163 l47 -28 350 -3 c417 -4 436 -2 505 68 39 38 50 58 61 104 l13 58 -122 367 c-105 317 -127 372 -156 404 -53 58 -135 83 -211 66z"/> </g> </svg>
          </button>
        </div>
        <div class="flex wrap gap-s pad-m bor-rad-5">
          <ng-container *ngIf="chips && chips.length > 0">
            <ng-container *ngFor="let chip of chips; index as i">
              <app-chip 
              [name]="chip.name"
              [iconPath]="chip.iconPath"
              [tooltipText]="chip.tooltipText ?? undefined"
              [bgColor]="chip.color ?? undefined"
              [textColor]="chip.textColor ?? undefined"
              [removable]="true"
              (removeEvent)="chipRemoveEvent(i)"
              ></app-chip>
            </ng-container>
          </ng-container>
        </div>
      </div>
      <div class="flex justify-c-c align-i-c formFeedbackError" 
      style="height: 1em;">
        {{feedback}}
      </div>
    </div>
  </div>
</div>
<ng-template #intersectionSVG>
  <svg class="icon-m" version="1.0" xmlns="http://www.w3.org/2000/svg" width="512.000000pt" height="512.000000pt" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="var(--text-color)" stroke="none"> <path d="M1565 4214 c-615 -47 -1125 -384 -1389 -919 -231 -468 -235 -983 -11 -1450 240 -500 716 -848 1270 -926 107 -15 350 -15 450 0 205 32 410 101 578 196 l98 55 78 -45 c678 -391 1551 -247 2066 341 552 632 552 1556 0 2188 -515 588 -1387 732 -2066 341 l-78 -45 -98 55 c-170 96 -382 168 -573 194 -90 12 -256 20 -325 15z m345 -324 c111 -21 223 -57 328 -106 l75 -34 -59 -63 c-205 -214 -347 -492 -416 -807 -19 -91 -22 -133 -22 -320 0 -185 3 -230 23 -320 67 -314 205 -584 414 -807 l59 -63 -74 -35 c-193 -89 -366 -127 -583 -127 -283 0 -526 74 -759 231 -185 125 -356 320 -454 517 -43 86 -98 250 -119 352 -24 120 -24 384 0 504 59 297 210 560 436 762 314 279 735 395 1151 316z m1790 4 c281 -49 524 -178 729 -385 186 -189 311 -425 367 -694 26 -126 26 -384 0 -510 -76 -369 -280 -671 -590 -877 -229 -151 -460 -220 -741 -220 -217 0 -381 36 -579 126 l-78 36 63 67 c200 215 345 497 410 803 20 91 23 134 23 320 0 186 -3 229 -23 320 -67 315 -205 584 -414 806 l-59 64 78 36 c266 121 536 157 814 108z m-1070 -391 c64 -70 150 -177 150 -187 0 -3 -99 -6 -220 -6 -121 0 -220 3 -220 6 0 19 203 254 220 254 5 0 36 -30 70 -67z m328 -565 c21 -76 42 -178 42 -210 0 -17 -21 -18 -440 -18 l-440 0 0 28 c1 32 20 122 45 210 l18 62 377 0 377 0 21 -72z m42 -546 c0 -32 -21 -134 -42 -209 l-21 -73 -377 0 -377 0 -18 63 c-25 87 -44 177 -45 210 l0 27 440 0 c419 0 440 -1 440 -18z m-220 -588 c0 -11 -89 -120 -154 -189 l-66 -70 -66 70 c-65 69 -154 178 -154 189 0 3 99 6 220 6 121 0 220 -3 220 -6z"/> </g> </svg>
</ng-template>
<ng-template #unionSVG>
  <svg class="icon-m" version="1.0" xmlns="http://www.w3.org/2000/svg" width="512.000000pt" height="512.000000pt" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="var(--text-color)" stroke="none"> <path d="M1565 4214 c-615 -47 -1125 -384 -1389 -919 -231 -468 -235 -983 -11 -1450 240 -500 716 -848 1270 -926 107 -15 350 -15 450 0 205 32 410 101 578 196 l98 55 78 -45 c678 -391 1551 -247 2066 341 552 632 552 1556 0 2188 -515 588 -1387 732 -2066 341 l-78 -45 -98 55 c-170 96 -382 168 -573 194 -90 12 -256 20 -325 15z m2849 -690 c66 -66 145 -160 170 -201 6 -10 -142 -13 -723 -13 l-729 0 -40 73 c-22 39 -60 99 -84 132 -24 33 -47 66 -52 73 -6 9 134 12 687 12 l694 0 77 -76z m-2254 62 c0 -3 -24 -38 -53 -79 -29 -40 -69 -104 -88 -140 l-34 -67 -733 0 -733 0 33 46 c42 59 130 158 182 206 l41 37 693 1 c380 0 692 -2 692 -4z m470 -83 c64 -70 150 -177 150 -187 0 -3 -99 -6 -220 -6 -121 0 -220 3 -220 6 0 19 203 254 220 254 5 0 36 -30 70 -67z m2121 -520 c15 -39 46 -169 54 -225 l7 -48 -756 0 -756 0 0 38 c0 34 -30 194 -45 241 l-6 21 746 0 745 0 11 -27z m-2897 -39 c-9 -31 -21 -95 -28 -142 l-12 -87 -752 -3 c-618 -2 -752 0 -752 11 0 29 22 136 42 205 l21 72 748 0 747 0 -14 -56z m1105 -11 c20 -70 41 -173 41 -205 0 -17 -21 -18 -440 -18 l-440 0 0 25 c0 32 17 114 41 198 l20 67 379 0 379 0 20 -67z m-1139 -560 c0 -35 30 -195 45 -242 l6 -21 -746 0 -745 0 -11 28 c-17 43 -46 162 -54 220 l-7 52 756 0 756 0 0 -37z m1180 19 c0 -32 -21 -134 -42 -209 l-21 -73 -377 0 -377 0 -18 63 c-25 87 -44 177 -45 210 l0 27 440 0 c419 0 440 -1 440 -18z m1810 3 c0 -30 -31 -170 -51 -232 l-21 -63 -745 0 -745 0 7 28 c20 77 45 211 45 245 l0 37 755 0 c674 0 755 -2 755 -15z m-2782 -658 c22 -40 68 -110 101 -155 l61 -82 -690 0 -689 0 -58 53 c-83 74 -185 189 -217 245 -6 9 142 12 723 12 l729 0 40 -73z m752 67 c0 -11 -89 -120 -154 -189 l-66 -70 -66 70 c-65 69 -154 178 -154 189 0 3 99 6 220 6 121 0 220 -3 220 -6z m1800 -10 c0 -21 -143 -182 -223 -251 l-61 -53 -687 0 -688 0 65 86 c35 47 81 116 102 154 l37 70 728 0 c400 0 727 -3 727 -6z"/> </g> </svg> 
</ng-template>