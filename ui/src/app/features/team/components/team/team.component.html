<div class="flex-col align-i-c gap-m">
  <ng-container *ngIf="team?.pokemons && team?.pokemons!.length > 0">
    <ng-container *ngIf="window.currentDevice === window.DeviceType.smallMobile">
      <div class="flex full">
        <div class="half flex justify-c-s gap-s">
        </div>
        <div class="half flex justify-c-e gap-s">
          <div class="mar-y-s flex gap-m">
            <ng-container [ngTemplateOutlet]="rightSideButtons"></ng-container>
          </div>
        </div>
      </div>
    </ng-container>
  </ng-container>
  <div class="flex full">
    <div class="half flex justify-c-s gap-s">
      <ng-container *ngIf="team?.player; else noPlayer">
        <ng-container *ngIf="team?.player?.registered; else unregistered">
          <div class="detail flex align-i-c">
            <ng-container *ngIf="team?.player?.picture">
              <img src="{{team?.player?.picture}}" alt="" class="icon">
            </ng-container>
            {{team?.player?.username}}
          </div>
        </ng-container>
        <ng-template #unregistered>
          <div class="detail unregisteredPlayer flex align-i-c">
            <div class=" flex justify-c-s">
              <svg class="icon" version="1.0" xmlns="http://www.w3.org/2000/svg" width="512.000000pt" height="512.000000pt" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="var(--text-color-secondary)" stroke="none"> <path d="M2386 4790 c-140 -22 -309 -82 -425 -149 -106 -63 -183 -125 -278 -225 -144 -153 -232 -314 -290 -534 -24 -88 -26 -115 -27 -282 0 -169 3 -194 26 -282 37 -134 88 -255 150 -356 60 -96 209 -258 291 -317 31 -22 56 -42 57 -45 0 -4 -17 -12 -37 -19 -21 -8 -86 -37 -144 -66 -488 -242 -855 -693 -992 -1220 -48 -184 -58 -273 -64 -565 -5 -273 -4 -275 19 -320 15 -29 37 -53 63 -67 l40 -23 1785 0 1785 0 39 23 c22 12 49 38 60 57 20 33 21 51 21 295 0 286 -10 395 -55 572 -115 456 -382 843 -770 1115 -85 60 -246 148 -337 184 -40 16 -73 31 -73 34 0 3 15 14 32 25 47 28 202 179 254 249 99 132 164 268 212 445 23 87 25 114 25 281 0 167 -2 194 -25 281 -68 253 -169 423 -352 596 -157 147 -334 242 -546 293 -107 25 -341 36 -444 20z m352 -326 c151 -30 301 -109 419 -218 174 -162 269 -365 280 -601 20 -422 -248 -785 -662 -898 -66 -18 -106 -22 -225 -21 -127 1 -156 4 -233 27 -151 46 -256 107 -366 211 -188 180 -282 419 -268 684 20 402 301 729 702 817 84 19 260 18 353 -1z m125 -2094 c481 -94 896 -409 1112 -845 124 -250 174 -472 175 -777 l0 -108 -1590 0 -1590 0 0 113 c1 299 51 523 175 772 239 481 706 803 1265 869 87 10 349 -3 453 -24z"/> </g> </svg>
            </div>
            {{team?.player?.username}}
          </div>
        </ng-template>
      </ng-container>
      <ng-template #noPlayer>
        <div class="tooltip-wrapper">
          <div class="detail">
            <svg class="icon" version="1.0" xmlns="http://www.w3.org/2000/svg" width="512.000000pt" height="512.000000pt" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="var(--text-color-secondary)" stroke="none"> <path d="M2386 4790 c-140 -22 -309 -82 -425 -149 -106 -63 -183 -125 -278 -225 -144 -153 -232 -314 -290 -534 -24 -88 -26 -115 -27 -282 0 -169 3 -194 26 -282 37 -134 88 -255 150 -356 60 -96 209 -258 291 -317 31 -22 56 -42 57 -45 0 -4 -17 -12 -37 -19 -21 -8 -86 -37 -144 -66 -488 -242 -855 -693 -992 -1220 -48 -184 -58 -273 -64 -565 -5 -273 -4 -275 19 -320 15 -29 37 -53 63 -67 l40 -23 1785 0 1785 0 39 23 c22 12 49 38 60 57 20 33 21 51 21 295 0 286 -10 395 -55 572 -115 456 -382 843 -770 1115 -85 60 -246 148 -337 184 -40 16 -73 31 -73 34 0 3 15 14 32 25 47 28 202 179 254 249 99 132 164 268 212 445 23 87 25 114 25 281 0 167 -2 194 -25 281 -68 253 -169 423 -352 596 -157 147 -334 242 -546 293 -107 25 -341 36 -444 20z m352 -326 c151 -30 301 -109 419 -218 174 -162 269 -365 280 -601 20 -422 -248 -785 -662 -898 -66 -18 -106 -22 -225 -21 -127 1 -156 4 -233 27 -151 46 -256 107 -366 211 -188 180 -282 419 -268 684 20 402 301 729 702 817 84 19 260 18 353 -1z m125 -2094 c481 -94 896 -409 1112 -845 124 -250 174 -472 175 -777 l0 -108 -1590 0 -1590 0 0 113 c1 299 51 523 175 772 239 481 706 803 1265 869 87 10 349 -3 453 -24z"/> <path d="M2453 4285 c-184 -52 -309 -193 -336 -379 -10 -68 -9 -76 14 -122 31 -63 91 -98 158 -91 77 8 126 60 141 149 5 31 16 68 25 82 18 27 72 56 105 56 77 0 141 -83 121 -158 -15 -56 -49 -82 -125 -98 -134 -28 -156 -67 -156 -270 0 -157 10 -191 70 -231 47 -33 93 -38 146 -18 68 26 98 72 102 159 l4 71 42 19 c52 25 136 104 175 165 65 102 82 259 41 376 -43 125 -144 229 -268 275 -74 28 -190 35 -259 15z"/> <path d="M2500 3139 c-90 -38 -129 -153 -77 -229 50 -75 121 -97 200 -62 110 49 126 196 31 269 -39 29 -112 40 -154 22z"/> </g> </svg>               
          </div>
          <ng-container *ngIf="!window.isMobile()">
          <app-tooltip
          [text]="'team.team.no_player-tooltip' | translate"
          [side]="'top'"
          ></app-tooltip>
          </ng-container>
        </div>
      </ng-template>
      <ng-container *ngIf="team?.tournament">
        <div class="detail flex align-i-c">
          <ng-container *ngIf="team?.tournament?.official">
            <img src="assets/img/regionals.png" alt="" class="icon">
          </ng-container>
          <div class="detail-text">
            {{team?.tournament?.name}}
          </div>
        </div>
      </ng-container>
      <ng-container *ngIf="team?.regulation">
        <div class="detail flex align-i-c">
          {{team?.regulation?.identifier}}
        </div>
      </ng-container>
    </div>
    <div class="half flex justify-c-e gap-s">
      <ng-container *ngIf="team?.tags && team?.tags!.length > 0">
        <ng-container *ngFor="let tag of team?.tags">
          <app-chip 
          [name]="tag.name"
          [iconPath]="tag.icon"
          [tooltipText]="tag.description"
          [bgColor]="tag.color"
          [textColor]="tag.color ? theme.getTagTextColor(tag.color) : undefined"
          [removable]="removableTags ?? false"
          (removeEvent)="removeTag($event)"
          ></app-chip>
        </ng-container>
      </ng-container>
    </div>
  </div>
  <div class="flex justify-c-c align-i-s gap-m">
    <ng-container *ngIf="team?.pokemons && team?.pokemons!.length > 0">
      <ng-container *ngIf="!(window.currentDevice === window.DeviceType.smallMobile)">
        <div class="mar-y-s">
          <div 
          class="detail tooltip-wrapper"
          (click)="clickOptions(0)"
          [ngClass]="{active: showAllStats}"
          >
            <app-tooltip
            [text]="'team.team.show_all_stats-tooltip' | translate"
            [side]="'right'"
            ></app-tooltip>
            <svg class="icon-s" version="1.0" xmlns="http://www.w3.org/2000/svg" width="512.000000pt" height="512.000000pt" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="var(--text-color)" stroke="none"> <path d="M755 4031 c-72 -32 -115 -104 -115 -191 0 -87 43 -159 115 -191 38 -18 114 -19 1805 -19 1691 0 1767 1 1805 19 154 69 154 313 0 382 -38 18 -114 19 -1805 19 -1691 0 -1767 -1 -1805 -19z"/> <path d="M755 2751 c-154 -69 -154 -313 0 -382 38 -18 95 -19 1165 -19 1070 0 1127 1 1165 19 154 69 154 313 0 382 -38 18 -95 19 -1165 19 -1070 0 -1127 -1 -1165 -19z"/> <path d="M755 1471 c-72 -32 -115 -104 -115 -191 0 -87 43 -159 115 -191 38 -18 108 -19 1593 -19 1507 0 1554 1 1590 19 75 39 112 101 112 191 0 66 -16 107 -59 153 -56 61 47 57 -1645 57 -1483 0 -1553 -1 -1591 -19z"/> </g> </svg> 
          </div>
        </div>
      </ng-container>
    </ng-container>
    <div class="flex justify-c-c gap-l" [ngClass]="{'flex-col': window.isMobile()}">
      <div class="flex-col gap-l">
        <ng-container *ngFor="let pokemon of team?.pokemons; index as i">
          <ng-container *ngIf="i % 2 === 0">
            <app-pokemon [pokemon]="pokemon" [teamOptions]="team?.options" (updateStats)="statsUpdated($event)"></app-pokemon>
          </ng-container>
        </ng-container>
      </div>
      <div class="flex-col gap-l">
        <ng-container *ngFor="let pokemon of team?.pokemons; index as i">
          <ng-container *ngIf="i % 2 !== 0">
            <app-pokemon [pokemon]="pokemon" [teamOptions]="team?.options" (updateStats)="statsUpdated($event)"></app-pokemon>
          </ng-container>
        </ng-container>
      </div>
    </div>
    <ng-container *ngIf="team?.pokemons && team?.pokemons!.length > 0">
      <ng-container *ngIf="!(window.currentDevice === window.DeviceType.smallMobile)">
        <div class="mar-y-s flex-col gap-m">
          <ng-container [ngTemplateOutlet]="rightSideButtons"></ng-container>
        </div>
      </ng-container>
    </ng-container>
  </div>
  <div class="flex full">
    <div class="half flex justify-c-s gap-s">
      <ng-container *ngIf="team?.rentalCode">
        <div class="detail tooltip-wrapper" (click)="copyRentalCode()">
          <div class="detail-text">
            #{{team?.rentalCode}}
          </div>
          <app-tooltip
          [text]="rentalCodeCopied ? ('shared.copySuccess' | translate) : ('team.team.rental_code-tooltip' | translate)"
          [side]="'top'"
          ></app-tooltip>
        </div>
      </ng-container>
    </div>
    <div class="half flex justify-c-e gap-s">
      <ng-container *ngIf="team?.viewCount">
        <div class="detail">
          {{team?.viewCount}}
        </div>
      </ng-container>
      <ng-container *ngIf="team?.date">
        <div class="detail">
          {{util.customFormatDate(team?.date!)}} 
        </div>
      </ng-container>
    </div>
  </div>
</div>
<ng-template #rightSideButtons>
  <div 
  class="detail tooltip-wrapper"
  (click)="clickOptions(0)"
  [ngClass]="{active: showAllStats}"
  >
    <ng-container *ngIf="!window.isMobile()">
      <app-tooltip
      [text]="'team.team.show_all_stats-tooltip' | translate"
      [side]="'right'"
      ></app-tooltip>     
    </ng-container>
    <svg class="icon-s" version="1.0" xmlns="http://www.w3.org/2000/svg" width="512.000000pt" height="512.000000pt" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="var(--text-color)" stroke="none"> <path d="M755 4031 c-72 -32 -115 -104 -115 -191 0 -87 43 -159 115 -191 38 -18 114 -19 1805 -19 1691 0 1767 1 1805 19 154 69 154 313 0 382 -38 18 -114 19 -1805 19 -1691 0 -1767 -1 -1805 -19z"/> <path d="M755 2751 c-154 -69 -154 -313 0 -382 38 -18 95 -19 1165 -19 1070 0 1127 1 1165 19 154 69 154 313 0 382 -38 18 -95 19 -1165 19 -1070 0 -1127 -1 -1165 -19z"/> <path d="M755 1471 c-72 -32 -115 -104 -115 -191 0 -87 43 -159 115 -191 38 -18 108 -19 1593 -19 1507 0 1554 1 1590 19 75 39 112 101 112 191 0 66 -16 107 -59 153 -56 61 47 57 -1645 57 -1483 0 -1553 -1 -1591 -19z"/> </g> </svg> 
  </div>
  <div 
  class="detail tooltip-wrapper" 
  (click)="clickOptions(1)"
  [ngClass]="{active: showAllNotes}"
  >
    <ng-container *ngIf="!window.isMobile()">
      <app-tooltip
      [text]="'team.team.show_all_notes-tooltip' | translate"
      [side]="'right'"
      ></app-tooltip> 
    </ng-container>
    <svg class="icon-s" version="1.0" xmlns="http://www.w3.org/2000/svg" width="512.000000pt" height="512.000000pt" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="var(--text-color)" stroke="none"> <path d="M4253 5080 c-78 -20 -114 -37 -183 -83 -44 -29 -2323 -2296 -2361 -2349 -21 -29 -329 -1122 -329 -1168 0 -56 65 -120 122 -120 44 0 1138 309 1166 329 15 11 543 536 1174 1168 837 838 1157 1165 1187 1212 74 116 105 270 82 407 -7 39 -30 105 -53 154 -36 76 -55 99 -182 226 -127 127 -150 145 -226 182 -135 65 -260 78 -397 42z m290 -272 c55 -27 258 -231 288 -288 20 -38 24 -60 24 -140 0 -121 -18 -160 -132 -279 l-82 -86 -303 303 -303 303 88 84 c49 46 108 93 132 105 87 42 203 41 288 -2z m-383 -673 l295 -295 -933 -932 -932 -933 -295 295 c-162 162 -295 299 -295 305 0 13 1842 1855 1855 1855 6 0 143 -133 305 -295z m-1822 -2284 c-37 -12 -643 -179 -645 -178 -1 1 30 115 68 252 38 138 79 285 91 329 l21 78 238 -238 c132 -132 233 -241 227 -243z"/> <path d="M480 4584 c-209 -56 -370 -206 -444 -414 l-31 -85 0 -1775 c0 -1693 1 -1778 18 -1834 37 -120 77 -187 167 -277 63 -63 104 -95 157 -121 146 -73 3 -69 2113 -66 l1895 3 67 26 c197 77 336 218 401 409 22 64 22 74 25 710 3 579 2 648 -13 676 -21 40 -64 64 -114 64 -33 0 -49 -7 -79 -34 l-37 -34 -5 -634 c-5 -631 -5 -633 -28 -690 -41 -102 -118 -179 -220 -220 l-57 -23 -1834 -3 c-1211 -1 -1853 1 -1890 8 -120 22 -227 104 -277 213 l-29 62 0 1760 0 1760 29 63 c37 80 122 161 203 194 l58 23 630 5 c704 6 664 1 700 77 23 48 13 95 -31 138 l-35 35 -642 -1 c-533 0 -651 -3 -697 -15z"/> </g> </svg>
  </div>
  <div 
  class="detail tooltip-wrapper" 
  (click)="clickOptions(2)"
  >
    <ng-container *ngIf="!window.isMobile()">
      <app-tooltip
      [text]="'team.team.close_all_tooltips-tooltip' | translate"
      [side]="'right'"
      ></app-tooltip>
    </ng-container>
    <svg class="icon-s" fill="var(--text-color)" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m20 2h-16c-1.1 0-2 .9-2 2v12c0 1.11.9 2 2 2h4l4 4 4-4h4c1.11 0 2-.89 2-2v-12c0-1.1-.89-2-2-2m0 14h-4.83l-3.17 3.17-3.17-3.17h-4.83v-12h16zm-11.54-3.88 2.13-2.12-2.13-2.12 1.42-1.41 2.12 2.12 2.12-2.12 1.42 1.41-2.13 2.12 2.13 2.12-1.42 1.42-2.12-2.13-2.12 2.13z"/></svg>
  </div>
</ng-template>