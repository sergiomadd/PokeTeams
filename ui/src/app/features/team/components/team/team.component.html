<div class="team">
  <div class="team-row full row">
    <div class="half row-start s-gap">
      <ng-container *ngIf="team?.player; else noPlayer">
        <ng-container *ngIf="team?.player?.registered; else unregistered">
          <div class="detail">
            <ng-container *ngIf="team?.player?.picture">
              <img src="{{team?.player?.picture}}" alt="" class="icon">
            </ng-container>
            {{team?.player?.username}}
          </div>
        </ng-container>
        <ng-template #unregistered>
          <div class="detail unregisteredPlayer">
            <div class="row-center">
              <svg class="icon" version="1.0" xmlns="http://www.w3.org/2000/svg" width="512.000000pt" height="512.000000pt" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="var(--text-color-secondary)" stroke="none"> <path d="M2386 4790 c-140 -22 -309 -82 -425 -149 -106 -63 -183 -125 -278 -225 -144 -153 -232 -314 -290 -534 -24 -88 -26 -115 -27 -282 0 -169 3 -194 26 -282 37 -134 88 -255 150 -356 60 -96 209 -258 291 -317 31 -22 56 -42 57 -45 0 -4 -17 -12 -37 -19 -21 -8 -86 -37 -144 -66 -488 -242 -855 -693 -992 -1220 -48 -184 -58 -273 -64 -565 -5 -273 -4 -275 19 -320 15 -29 37 -53 63 -67 l40 -23 1785 0 1785 0 39 23 c22 12 49 38 60 57 20 33 21 51 21 295 0 286 -10 395 -55 572 -115 456 -382 843 -770 1115 -85 60 -246 148 -337 184 -40 16 -73 31 -73 34 0 3 15 14 32 25 47 28 202 179 254 249 99 132 164 268 212 445 23 87 25 114 25 281 0 167 -2 194 -25 281 -68 253 -169 423 -352 596 -157 147 -334 242 -546 293 -107 25 -341 36 -444 20z m352 -326 c151 -30 301 -109 419 -218 174 -162 269 -365 280 -601 20 -422 -248 -785 -662 -898 -66 -18 -106 -22 -225 -21 -127 1 -156 4 -233 27 -151 46 -256 107 -366 211 -188 180 -282 419 -268 684 20 402 301 729 702 817 84 19 260 18 353 -1z m125 -2094 c481 -94 896 -409 1112 -845 124 -250 174 -472 175 -777 l0 -108 -1590 0 -1590 0 0 113 c1 299 51 523 175 772 239 481 706 803 1265 869 87 10 349 -3 453 -24z"/> </g> </svg>
            </div>
            {{team?.player?.username}}
          </div>
        </ng-template>
      </ng-container>
      <ng-template #noPlayer>
        <div class="tooltip-wrapper">
          <div class="detail">
            <svg class="icon" version="1.0" xmlns="http://www.w3.org/2000/svg" width="512.000000pt" height="512.000000pt" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="var(--text-color-secondary)" stroke="none"> <path d="M2386 4790 c-140 -22 -309 -82 -425 -149 -106 -63 -183 -125 -278 -225 -144 -153 -232 -314 -290 -534 -24 -88 -26 -115 -27 -282 0 -169 3 -194 26 -282 37 -134 88 -255 150 -356 60 -96 209 -258 291 -317 31 -22 56 -42 57 -45 0 -4 -17 -12 -37 -19 -21 -8 -86 -37 -144 -66 -488 -242 -855 -693 -992 -1220 -48 -184 -58 -273 -64 -565 -5 -273 -4 -275 19 -320 15 -29 37 -53 63 -67 l40 -23 1785 0 1785 0 39 23 c22 12 49 38 60 57 20 33 21 51 21 295 0 286 -10 395 -55 572 -115 456 -382 843 -770 1115 -85 60 -246 148 -337 184 -40 16 -73 31 -73 34 0 3 15 14 32 25 47 28 202 179 254 249 99 132 164 268 212 445 23 87 25 114 25 281 0 167 -2 194 -25 281 -68 253 -169 423 -352 596 -157 147 -334 242 -546 293 -107 25 -341 36 -444 20z m352 -326 c151 -30 301 -109 419 -218 174 -162 269 -365 280 -601 20 -422 -248 -785 -662 -898 -66 -18 -106 -22 -225 -21 -127 1 -156 4 -233 27 -151 46 -256 107 -366 211 -188 180 -282 419 -268 684 20 402 301 729 702 817 84 19 260 18 353 -1z m125 -2094 c481 -94 896 -409 1112 -845 124 -250 174 -472 175 -777 l0 -108 -1590 0 -1590 0 0 113 c1 299 51 523 175 772 239 481 706 803 1265 869 87 10 349 -3 453 -24z"/> <path d="M2453 4285 c-184 -52 -309 -193 -336 -379 -10 -68 -9 -76 14 -122 31 -63 91 -98 158 -91 77 8 126 60 141 149 5 31 16 68 25 82 18 27 72 56 105 56 77 0 141 -83 121 -158 -15 -56 -49 -82 -125 -98 -134 -28 -156 -67 -156 -270 0 -157 10 -191 70 -231 47 -33 93 -38 146 -18 68 26 98 72 102 159 l4 71 42 19 c52 25 136 104 175 165 65 102 82 259 41 376 -43 125 -144 229 -268 275 -74 28 -190 35 -259 15z"/> <path d="M2500 3139 c-90 -38 -129 -153 -77 -229 50 -75 121 -97 200 -62 110 49 126 196 31 269 -39 29 -112 40 -154 22z"/> </g> </svg>               
          </div>
          <app-tooltip
          [text]="'team.team.no_player-tooltip' | translate"
          [side]="'top'"
          ></app-tooltip>
        </div>
      </ng-template>
      <ng-container *ngIf="team?.tournament">
        <div class="detail tournament">
          <ng-container *ngIf="team?.tournament?.official">
            <img src="assets/img/regionals.png" alt="" class="icon">
          </ng-container>
          <div class="detail-text">
            {{team?.tournament?.name}}
          </div>
        </div>
      </ng-container>
      <ng-container *ngIf="team?.regulation">
        <div class="detail regulation">
          {{team?.regulation?.identifier}}
        </div>
      </ng-container>
    </div>
    <div class="half row-end s-gap">
      <ng-container *ngIf="team?.tags && team?.tags!.length > 0">
        <ng-container *ngFor="let tag of team?.tags">
          <app-tag [tag]="tag" [removable]="removableTags ?? false" (removeEvent)="removeTag($event)"></app-tag>
        </ng-container>
      </ng-container>
    </div>
  </div>
  <div class="row-top">
    <div class="options margin-y-s"></div>
    <div class="pokemons">
      <div class="col">
        <ng-container *ngFor="let pokemon of team?.pokemons; index as i">
          <ng-container *ngIf="i % 2 === 0">
            <app-pokemon [pokemon]="pokemon" [teamOptions]="team?.options" (updateStats)="statsUpdated($event)"></app-pokemon>
          </ng-container>
        </ng-container>
      </div>
      <div class="col">
        <ng-container *ngFor="let pokemon of team?.pokemons; index as i">
          <ng-container *ngIf="i % 2 !== 0">
            <app-pokemon [pokemon]="pokemon" [teamOptions]="team?.options" (updateStats)="statsUpdated($event)"></app-pokemon>
          </ng-container>
        </ng-container>
      </div>
    </div>
    <ng-container *ngIf="team?.pokemons && team?.pokemons!.length > 0">
      <div class="options margin-y-s s-gap">
        <div 
        class="detail option tooltip-wrapper"
        (click)="clickOptions(0)"
        [ngClass]="{active: showAllStats}"
        >
          <app-tooltip
          [text]="'team.team.show_all_stats-tooltip' | translate"
          [side]="'right'"
          ></app-tooltip>
          <img src="assets/img/align-left.png" alt="" class="option-icon">
        </div>
        <div 
        class="detail option tooltip-wrapper" 
        (click)="clickOptions(1)"
        [ngClass]="{active: showAllNotes}"
        >
          <app-tooltip
          [text]="'team.team.show_all_notes-tooltip' | translate"
          [side]="'right'"
          ></app-tooltip>
          <img src="assets/img/edit.png" alt="" class="option-icon">
        </div>
        <div 
        class="detail option tooltip-wrapper" 
        (click)="clickOptions(2)"
        >
          <app-tooltip
          [text]="'team.team.close_all_tooltips-tooltip' | translate"
          [side]="'right'"
          ></app-tooltip>
          <img src="assets/img/tooltip-close.svg" alt="" class="option-icon">
        </div>
      </div>
    </ng-container>
  </div>
  <div class="team-row row full align-top">
    <div class="half row-start s-gap">
      <div class="detail">
        Rental Code
      </div>
      <div class="detail">
        Original Author
      </div>
    </div>
    <div class="half row-end s-gap">
      <ng-container *ngIf="team?.viewCount">
        <div class="detail">
          {{team?.viewCount}}
        </div>
      </ng-container>
      <ng-container *ngIf="team?.date">
        <div class="detail">
          {{util.customFormatDate(team?.date!)}} 
        </div>
      </ng-container>
    </div>
  </div>
</div>